{"ast":null,"code":"import _regeneratorRuntime from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/src/components/Request/index.js\";\nimport React, { Component } from \"react\";\nimport \"./Request.scss\";\nimport axios from 'axios';\nimport RequestItem from \"./RequestItem\";\nimport Swal from 'sweetalert2';\n\nvar Request =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Request, _Component);\n\n  function Request(props) {\n    var _this;\n\n    _classCallCheck(this, Request);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Request).call(this, props));\n    _this.state = {\n      value: '',\n      replyID: -1,\n      response: '',\n      reload: 1,\n      requestdata: 'Loading Request List...',\n      requests: null,\n      requestcontent: [],\n      requesthash: [],\n      requestID: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.getRequestData = _this.getRequestData.bind(_assertThisInitialized(_this));\n    _this.getDeContent = _this.getDeContent.bind(_assertThisInitialized(_this));\n    _this.renderRequests = _this.renderRequests.bind(_assertThisInitialized(_this));\n    _this.reply = _this.reply.bind(_assertThisInitialized(_this)); //var requests = new Array();\n\n    return _this;\n  }\n\n  _createClass(Request, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var data = {\n        textcontent: this.state.value\n      };\n      var proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n      axios.post(proxyurl + 'http://btfs.tron2moon.com/request.php', {\n        textcontent: this.state.value\n      }).then(function (res) {\n        console.log(res);\n        Swal.fire('Request sent');\n\n        _this2.setState({\n          reload: 1,\n          requestcontent: [],\n          requesthash: [],\n          requestID: []\n        });\n      });\n    }\n  }, {\n    key: \"getDeContent\",\n    value: function () {\n      var _getDeContent = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(hash, id) {\n        var _this3 = this;\n\n        var proxyurl, ret;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n                _context2.next = 3;\n                return axios.get(proxyurl + 'https://gateway.btfssoter.io/btfs/' + hash).then(function (res) {\n                  _this3.setState(function (state) {\n                    var requestcontent = state.requestcontent.concat(res.data);\n                    var requesthash = state.requesthash.concat(hash);\n                    var requestID = state.requestID.concat(id);\n                    return {\n                      requestcontent: requestcontent,\n                      requesthash: requesthash,\n                      requestID: requestID\n                    };\n                  });\n\n                  console.log(res.data);\n                });\n\n              case 3:\n                ret = _context2.sent;\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getDeContent(_x, _x2) {\n        return _getDeContent.apply(this, arguments);\n      }\n\n      return getDeContent;\n    }()\n  }, {\n    key: \"getRequestData\",\n    value: function () {\n      var _getRequestData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(_number, _rid) {\n        var _this4 = this;\n\n        var data, proxyurl;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                data = {\n                  number: _number,\n                  rid: _rid\n                };\n                proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n                _context3.next = 4;\n                return axios.post(proxyurl + 'http://btfs.tron2moon.com/getrequest.php', data).then(function (res) {\n                  //console.log(res);\n                  console.log(res.data);\n\n                  _this4.setState({\n                    reload: 0,\n                    requests: res.data\n                  });\n\n                  var Rdata = res.data;\n                  var leng = Rdata.length;\n\n                  for (var i = 0; i < leng; i++) {\n                    _this4.getDeContent(Rdata[i]['hash'], Rdata[i]['id']);\n                  }\n\n                  console.log(_this4.requests);\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getRequestData(_x3, _x4) {\n        return _getRequestData.apply(this, arguments);\n      }\n\n      return getRequestData;\n    }()\n  }, {\n    key: \"reply\",\n    value: function () {\n      var _reply = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(rid) {\n        var _ref, text, proxyurl;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return Swal.fire({\n                  input: 'textarea',\n                  inputPlaceholder: 'Type your reply here...',\n                  showCancelButton: true\n                });\n\n              case 2:\n                _ref = _context4.sent;\n                text = _ref.value;\n\n                if (text) {\n                  //Swal.fire(text + rid);\n                  proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n                  axios.post(proxyurl + 'http://btfs.tron2moon.com/request.php', {\n                    textcontent: text,\n                    rid: rid\n                  }).then(function (res) {\n                    console.log(res);\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function reply(_x5) {\n        return _reply.apply(this, arguments);\n      }\n\n      return reply;\n    }()\n  }, {\n    key: \"renderRequests\",\n    value: function renderRequests() {\n      var _this5 = this;\n\n      var datas = this.state.requestcontent;\n      var hashes = this.state.requesthash;\n      var RIDs = this.state.requestID;\n      if (datas.length == 0) return 'Loading...';\n      var tItems = datas.map(function (request, index) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"table-row\",\n          id: index,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"rank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, RIDs[index]), React.createElement(\"div\", {\n          className: \"requestcontent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, request, \" \"), React.createElement(\"div\", {\n          className: \"requestreply\",\n          id: RIDs[index],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick(e) {\n            return _this5.reply(RIDs[index]);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, \"Reply\")), React.createElement(\"div\", {\n          className: \"requestdelink\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"https://gateway.btfssoter.io/btfs/\" + hashes[index],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"de-Link\"))), React.createElement(RequestItem, {\n          rid: RIDs[index],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }));\n      });\n      return tItems;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.reload == 1) {\n        this.getRequestData(0, -1);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"blockquote\", {\n        className: \"generic-blockquote\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Your Request is saved in decentralized network provided by BitTorrent File System (BTFS) TestNet. Thanks to Tron Team.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), \" Please support us to bring Tron 2the Moon.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Tron2Moon team \"))), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Your Request:\"), React.createElement(\"textarea\", {\n        className: \"single-textarea\",\n        name: \"textcontent\",\n        id: \"textcontent\",\n        placeholder: \"Enter your request here for example: I want to download The Lion King (2019). Happy to pay using BitTorrent Speed. Thanks\",\n        onChange: this.handleChange,\n        value: this.state.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \" \"), React.createElement(\"button\", {\n        className: \"genric-btn primary circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Send Request\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        className: \"mb-30 text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Request List\"), React.createElement(\"div\", {\n        className: \"progress-table-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"progress-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"table-head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"div\", {\n        className: \"requestcontent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Content\"), React.createElement(\"div\", {\n        className: \"requestreply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"requestdelink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      })), this.renderRequests())));\n    }\n  }]);\n\n  return Request;\n}(Component);\n\nexport default Request;","map":{"version":3,"sources":["/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/src/components/Request/index.js"],"names":["React","Component","axios","RequestItem","Swal","Request","props","state","value","replyID","response","reload","requestdata","requests","requestcontent","requesthash","requestID","handleChange","bind","handleSubmit","getRequestData","getDeContent","renderRequests","reply","event","setState","target","preventDefault","data","textcontent","proxyurl","post","then","res","console","log","fire","hash","id","get","concat","ret","_number","_rid","number","rid","Rdata","leng","length","i","input","inputPlaceholder","showCancelButton","text","datas","hashes","RIDs","tItems","map","request","index","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Request.scss\";\nimport axios from 'axios';\nimport RequestItem from \"./RequestItem\";\nimport Swal from 'sweetalert2'\n\n\nclass Request extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      replyID:-1,\n      response: '',\n      reload: 1,\n      requestdata:'Loading Request List...',\n      requests:null,\n      requestcontent:[],\n      requesthash:[],\n      requestID:[],\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getRequestData = this.getRequestData.bind(this);\n    this.getDeContent = this.getDeContent.bind(this);\n\n    this.renderRequests = this.renderRequests.bind(this);\n    this.reply = this.reply.bind(this);\n    //var requests = new Array();\n  }\n\n  async componentDidMount() {\n      \n  }\n\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    const data = {\n      textcontent: this.state.value\n    };\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    axios.post(proxyurl+'http://btfs.tron2moon.com/request.php', { textcontent: this.state.value })\n      .then(res => {\n        console.log(res);\n        Swal.fire('Request sent');\n        this.setState({\n            reload:   1,\n            requestcontent:[],\n            requesthash:[],\n            requestID:[]\n          });\n      })\n \n  }\n  async getDeContent(hash,id)\n  {\n    \n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    var ret = await axios.get(proxyurl+'https://gateway.btfssoter.io/btfs/'+hash)\n      .then(res => {\n        this.setState(state => {\n          const requestcontent = state.requestcontent.concat(res.data);\n          const requesthash = state.requesthash.concat(hash);\n          const requestID = state.requestID.concat(id);\n          return {\n            requestcontent,\n            requesthash,\n            requestID\n          };\n        });\n        console.log(res.data);\n      });\n  }\n\n  async getRequestData(_number,_rid){\n    const data = {\n      number: _number,\n      rid: _rid\n    };\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    await axios.post(proxyurl+ 'http://btfs.tron2moon.com/getrequest.php', data)\n      .then(res => {\n        //console.log(res);\n        console.log(res.data);\n        this.setState({\n            reload:   0,\n            requests: res.data\n          });\n\n        var Rdata =res.data;\n        const leng = Rdata.length;\n\n        for (var i=0;i<leng;i++)\n        {\n          this.getDeContent(Rdata[i]['hash'],Rdata[i]['id']);\n        }\n        console.log(this.requests);\n\n      })   \n  }\n  async reply(rid)\n  {\n    const {value: text} = await Swal.fire({\n      input: 'textarea',\n      inputPlaceholder: 'Type your reply here...',\n      showCancelButton: true\n    })\n\n    if (text) {\n      //Swal.fire(text + rid);\n      \n      const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n      axios.post(proxyurl+'http://btfs.tron2moon.com/request.php', { textcontent: text, rid: rid })\n        .then(res => {\n          console.log(res);\n          \n        })\n      }\n  }\n  renderRequests()\n  {\n    const datas = this.state.requestcontent;\n    const hashes = this.state.requesthash;\n    const RIDs = this.state.requestID;\n\n    if (datas.length == 0)\n      return 'Loading...';\n    const tItems = datas.map((request, index) => (\n      <div>\n        <div className=\"table-row\" id={index} key={index}>\n          <div className=\"rank\">{RIDs[index]}</div>\n          <div className=\"requestcontent\">{request} </div>\n          <div className=\"requestreply\" id={RIDs[index]}><button onClick={e => this.reply(RIDs[index])}>Reply</button></div>\n          <div className=\"requestdelink\"><a href={\"https://gateway.btfssoter.io/btfs/\"+hashes[index]}>de-Link</a></div>\n        </div>\n        \n          <RequestItem rid={RIDs[index]} />\n       \n      </div>\n    ));\n    return tItems;   \n  }\n  render() {\n    if (this.state.reload == 1)\n    {\n      this.getRequestData(0,-1);\n    }\n\n  return (\n      <div>\n      <br/>\n        <div className=\"col-lg-12\">\n            <blockquote className=\"generic-blockquote\">\n              Your Request is saved in decentralized network provided by BitTorrent File System (BTFS) TestNet. Thanks to Tron Team.<br/> Please support us to bring Tron 2the Moon.<br/><br/><strong>Tron2Moon team </strong>\n            </blockquote>\n        </div>\n        <form onSubmit={this.handleSubmit}>\n        <h3>Your Request:</h3>\n        <textarea className=\"single-textarea\" name=\"textcontent\" id=\"textcontent\" placeholder=\"Enter your request here for example: I want to download The Lion King (2019). Happy to pay using BitTorrent Speed. Thanks\" onChange={this.handleChange} value={this.state.value}> </textarea>\n        <button className=\"genric-btn primary circle\" >Send Request</button>\n        </form>\n        <br/>\n      \n        <h3 className=\"mb-30 text-left\">Request List</h3> \n        <div className=\"progress-table-wrap\">\n          <div className=\"progress-table\">\n            <div className=\"table-head\">\n              <div className=\"rank\">#</div>\n              <div className=\"requestcontent\">Content</div>\n              <div className=\"requestreply\"></div>\n              <div className=\"requestdelink\"></div>\n            </div>\n            {this.renderRequests()}\n          </div>\n        </div>  \n\n      </div>\n    );\n  }\n}\nexport default Request;\n\n"]},"metadata":{},"sourceType":"module"}