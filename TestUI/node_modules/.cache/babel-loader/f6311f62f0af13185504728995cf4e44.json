{"ast":null,"code":"import _regeneratorRuntime from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/src/components/Request/RequestItem/index.js\";\nimport React, { Component } from \"react\";\nimport \"./RequestItem.scss\";\nimport axios from 'axios';\n\nvar RequestItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RequestItem, _Component);\n\n  function RequestItem(props) {\n    var _this;\n\n    _classCallCheck(this, RequestItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RequestItem).call(this, props));\n    _this.state = {\n      requestcontent: [],\n      requesthash: [],\n      requestID: [],\n      reload: 1\n    };\n    _this.getRequestData = _this.getRequestData.bind(_assertThisInitialized(_this));\n    _this.getDeContent = _this.getDeContent.bind(_assertThisInitialized(_this));\n    _this.renderRequests = _this.renderRequests.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RequestItem, [{\n    key: \"getDeContent\",\n    value: function () {\n      var _getDeContent = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(hash, id) {\n        var _this2 = this;\n\n        var proxyurl, ret;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n                _context.next = 3;\n                return axios.get(proxyurl + 'https://gateway.btfs.trongrid.io/btfs/' + hash).then(function (res) {\n                  _this2.setState(function (state) {\n                    var requestcontent = state.requestcontent.concat(res.data);\n                    var requesthash = state.requesthash.concat(hash);\n                    var requestID = state.requestID.concat(id);\n                    return {\n                      requestcontent: requestcontent,\n                      requesthash: requesthash,\n                      requestID: requestID\n                    };\n                  });\n\n                  console.log(res.data);\n                });\n\n              case 3:\n                ret = _context.sent;\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getDeContent(_x, _x2) {\n        return _getDeContent.apply(this, arguments);\n      }\n\n      return getDeContent;\n    }()\n  }, {\n    key: \"getRequestData\",\n    value: function () {\n      var _getRequestData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(_number, _rid) {\n        var _this3 = this;\n\n        var data, proxyurl;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = {\n                  number: _number,\n                  rid: _rid\n                };\n                this.setState({\n                  reload: 0\n                });\n                proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n                _context2.next = 5;\n                return axios.post(proxyurl + 'http://btfs.tron2moon.com/getrequest.php', data).then(function (res) {\n                  //console.log(res);\n                  console.log(res.data);\n                  var Rdata = res.data;\n                  var leng = Rdata.length;\n\n                  for (var i = 0; i < leng; i++) {\n                    _this3.getDeContent(Rdata[i]['hash'], Rdata[i]['id']);\n                  }\n\n                  console.log(_this3.requests);\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getRequestData(_x3, _x4) {\n        return _getRequestData.apply(this, arguments);\n      }\n\n      return getRequestData;\n    }()\n  }, {\n    key: \"renderRequests\",\n    value: function renderRequests() {\n      var _this4 = this;\n\n      var datas = this.state.requestcontent;\n      var hashes = this.state.requesthash;\n      var RIDs = this.state.requestID;\n\n      if (this.state.reload == 1) {\n        if (datas.length == 0) return 'Loading...';\n      } else if (this.state.reload == 0) if (datas.length == 0) return \"\";\n\n      var tItems = datas.map(function (request, index) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"table-row\",\n          id: _this4.props.rid + index,\n          key: 'reply_' + _this4.props.rid + index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"rank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"Reply:\"), React.createElement(\"div\", {\n          className: \"requestcontent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, request, \" \"), React.createElement(\"div\", {\n          className: \"requestreply\",\n          id: RIDs[index],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"requestdelink\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"https://gateway.btfs.trongrid.io/btfs/\" + hashes[index],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"de-Link\"))));\n      });\n      return tItems;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.reload == 1) {\n        this.getRequestData(0, this.props.rid);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, this.renderRequests());\n    }\n  }]);\n\n  return RequestItem;\n}(Component);\n\nexport default RequestItem;","map":{"version":3,"sources":["/Volumes/SSD/Active Projects/OptionBlitz/UI-2/TestUI/src/components/Request/RequestItem/index.js"],"names":["React","Component","axios","RequestItem","props","state","requestcontent","requesthash","requestID","reload","getRequestData","bind","getDeContent","renderRequests","hash","id","proxyurl","get","then","res","setState","concat","data","console","log","ret","_number","_rid","number","rid","post","Rdata","leng","length","i","requests","datas","hashes","RIDs","tItems","map","request","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./RequestItem.scss\";\nimport axios from 'axios';\n\nclass RequestItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      requestcontent:[],\n      requesthash:[],\n      requestID:[],\n      reload: 1,\n    };\n    this.getRequestData = this.getRequestData.bind(this);\n    this.getDeContent = this.getDeContent.bind(this);\n    this.renderRequests = this.renderRequests.bind(this);\n  }\n  async getDeContent(hash,id)\n  {\n    \n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    var ret = await axios.get(proxyurl+'https://gateway.btfs.trongrid.io/btfs/'+hash)\n      .then(res => {\n        this.setState(state => {\n          const requestcontent = state.requestcontent.concat(res.data);\n          const requesthash = state.requesthash.concat(hash);\n          const requestID = state.requestID.concat(id);\n          return {\n            requestcontent,\n            requesthash,\n            requestID\n          };\n        });\n        console.log(res.data);\n      });\n  }\n  async getRequestData(_number,_rid){\n    const data = {\n      number: _number,\n      rid: _rid\n    };\n    this.setState({\n      reload:   0\n    });\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\n    await axios.post(proxyurl+ 'http://btfs.tron2moon.com/getrequest.php', data)\n      .then(res => {\n        //console.log(res);\n        console.log(res.data);\n\n\n        var Rdata =res.data;\n        const leng = Rdata.length;\n\n        for (var i=0;i<leng;i++)\n        {\n          this.getDeContent(Rdata[i]['hash'],Rdata[i]['id']);\n        }\n        console.log(this.requests);\n\n      })   \n  }\n  renderRequests()\n  {\n    const datas = this.state.requestcontent;\n    const hashes = this.state.requesthash;\n    const RIDs = this.state.requestID;\n\n    if (this.state.reload == 1){\n      if (datas.length == 0)\n        return 'Loading...';\n    }\n    else if (this.state.reload == 0)\n      if (datas.length == 0)\n        return \"\";   \n    const tItems = datas.map((request, index) => (\n      <div>\n        <div className=\"table-row\" id={this.props.rid+index} key={'reply_'+this.props.rid+index}>\n          <div className=\"rank\">Reply:</div>\n          <div className=\"requestcontent\">{request} </div>\n          <div className=\"requestreply\" id={RIDs[index]}></div>\n          <div className=\"requestdelink\"><a href={\"https://gateway.btfs.trongrid.io/btfs/\"+hashes[index]}>de-Link</a></div>\n        </div>\n        \n      </div>\n    ));\n    return tItems;   \n  }\n  async componentDidMount() {\n      \n  }\n\n  render() {\n    if (this.state.reload == 1)\n    {\n      this.getRequestData(0,this.props.rid);\n    }\n\n  return (\n      <div>\n        {this.renderRequests()}\n      </div>\n    );\n  }\n}\nexport default RequestItem;\n\n"]},"metadata":{},"sourceType":"module"}